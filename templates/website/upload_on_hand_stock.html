{% extends 'website/base.html' %}

{% block content %}
<div class="container">
    <h2>Upload On Hand Stock for Scenario: {{ scenario.version }}</h2>
    
    {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
    {% endif %}
    
    <form method="post">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="snapshot_date">Snapshot Date:</label>
            <input type="date" id="snapshot_date" name="snapshot_date" class="form-control" required>
        </div>
        
        <div class="form-group">
            <label>WIP Stock Calculation Method:</label>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="wip_option" id="fetch_as_is" value="fetch_as_is" checked>
                <label class="form-check-label" for="fetch_as_is">
                    Fetch WIP data as is from database
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="wip_option" id="calculate_from_production" value="calculate_from_production">
                <label class="form-check-label" for="calculate_from_production">
                    Calculate WIP from production data (last X days based on Cast to Despatch Days)
                </label>
                <small class="form-text text-muted">
                    This option will look at production data from the last "Cast to Despatch Days" period for each site
                </small>
            </div>
        </div>
        
        <button type="submit" class="btn btn-primary">Upload On Hand Stock</button>
        <a href="{% url 'edit_scenario' scenario.version %}" class="btn btn-secondary">Cancel</a>
    </form>
</div>
{% endblock %}