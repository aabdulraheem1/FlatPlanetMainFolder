{% extends 'website/base.html' %}

<!DOCTYPE html>
<html>

{% block content %}
<div class="container mt-5">
    <h1>Update Epicor Supplier Master Data</h1>
    <form method="POST" action="">
        {% csrf_token %}
        <div class="mb-3">
            <label for="VendorID" class="form-label">Vendor ID</label>
            <input type="text" class="form-control" id="VendorID" name="VendorID" value="{{ record.VendorID }}">
        </div>
        <button type="submit" class="btn btn-primary">Update</button>
        <a href="{% url 'suppliers_list' %}" class="btn btn-secondary">Cancel</a>
        <a href="{% url 'edit_scenario' scenario.version %}" class="btn btn-primary ml-2">Back to Edit Scenario</a>
    </form>
    
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.querySelector('form[method="post"]');
        if (form) {
            form.addEventListener('submit', function(e) {
                // Allow form submission to continue
                setTimeout(function() {
                    window.location.href = "{% url 'edit_scenario' scenario.version %}";
                }, 500);
            });
        }
    });
    </script>
</div>
{% endblock %}

</html>